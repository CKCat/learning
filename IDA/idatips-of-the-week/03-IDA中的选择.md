本周的文章讨论如何在 IDA 中选择项目，以及选中内容后可以做什么。与之前主要依赖键盘的文章略有不同，这次我们也会用到鼠标。

### 动作及其作用范围

在 IDA 中执行一个动作时，默认情况下它只作用于光标下的项目，或当前地址（取决于具体动作）。然而，有时你可能希望将该动作应用于更多项目或一个地址范围，例如：

- 取消定义一段指令范围。
- 将一段未定义的字节转换为字符串字面量（如果 IDA 无法自动完成，例如字符串不是以空字符结尾）。
- 从一段包含部分数据的指令范围创建函数（例如遇到 “The function has undefined instruction/data at the specified address” 错误时）。
- 仅导出选中函数的反汇编或反编译结果，而不是整个文件。
- 将选中的反汇编片段复制到剪贴板。

### 在 IDA 中进行选择

最简单的选择方式与任何文本编辑器相同：

- 用鼠标点击并拖动（按住左键的同时可以滚动滚轮）。
- 按住 `Shift` 并使用光标导航键（`← ↑ → ↓ PgUp PgDn Home End` 等）。

不过，如果需要选择很大的代码块（例如好几屏的内容），这种方法会很累。这时，“锚点选择”（anchor selection）会非常有用。

### 使用锚点选择

1. 移动到想要选择的起始位置。
1. 选择 `Edit > Begin selection`（或使用 `Alt–L` 快捷键）。
1. 使用任意方式（光标键、跳转命令、函数窗口、导航栏等）移动到选区的另一端。
1. 执行动作（通过右键菜单、快捷键或全局菜单）。

该动作会作用于从锚点到当前位置的整个选区。

### 示例

一些会用到选区的操作包括：

- `File > Produce file` 子菜单中的命令（生成 `.ASM`、`.LST`、`HTML` 或 `.C` 文件）
- `Edit > Export data`（`Shift–E`）

![Export Data dialog screenshot](assets/2020/08/export_data.png)

一些更复杂且需要选区的操作将在后续文章中讨论。敬请期待，我们下周五再见！

原文地址：https://hex-rays.com/blog/igor-tip-of-the-week-03-selection-in-ida
