我们已经知道，用户自定义类型（例如 结构体 和 枚举）可以通过对应的视图（[structures](https://hex-rays.com/blog/igor-tip-of-the-week-11-quickly-creating-structures/) 、[enums](https://hex-rays.com/blog/igors-tip-of-the-week-99-enums/)）或 [Local Types](https://hex-rays.com/blog/igor-tip-of-the-week-11-quickly-creating-structures/) （本地类型）列表来创建和编辑。

不过，有些小的修改其实可以直接在伪代码视图（`pseudocode view`）中完成：

1. 重命名结构体字段 使用 `Rename` 操作（快捷键 `N`）即可直接修改字段名称。
   ![](assets/2024/01/hredit1.png)
2. 快速重新定义字段类型 使用 `Set type` 操作（快捷键 `Y`）可以快速为字段重新指定类型。
   ![](assets/2024/01/hredit2.png)

注意：如果你增加了字段的大小，相邻字段会被自动覆盖（overwritten）。 如有需要，可以使用 Undo（撤销）来恢复原状。

这些操作同样适用于栈变量（stack variables），因为它们在反编译器中表现得就像栈帧结构（stack frame structure）的字段一样。

如果你更倾向于使用自由格式的 C 语法编辑器（free-form C syntax editor）来查看和编辑整个结构体，可以通过以下方式快速跳转到类型定义：

1. 在伪代码中右键选择 `Jump to local type`（跳转到本地类型）
2. 在类型条目上使用 `Edit`（编辑）（快捷键 `Ctrl+E`）
   ![](assets/2024/01/hredit3.png)

这样就能在 `Local Types` 视图中直接编辑该类型的完整定义。

另请参见：

[Igor’s tip of the week #99: Enums](https://hex-rays.com/blog/igors-tip-of-the-week-99-enums/)

[Igor’s tip of the week #42: Renaming and retyping in the decompiler](https://hex-rays.com/blog/igors-tip-of-the-week-42-renaming-and-retyping-in-the-decompiler/)

[Igor’s tip of the week #11: Quickly creating structures](https://hex-rays.com/blog/igor-tip-of-the-week-11-quickly-creating-structures/)

原文地址：

https://hex-rays.com/blog/igors-tip-of-the-week-172-type-editing-from-pseudocode
