你可能注意到过菜单项 `View > Hide、Unhide`，但可能从未使用过。 这些命令允许你在 IDA 的输出中隐藏（或折叠）以及取消隐藏/取消折叠部分内容。

它们可用于以下场景：

### 隐藏指令或数据项

为了让数据库更紧凑、减少干扰，你可以选择隐藏或用简短文本替换部分列表内容：

1. 选中一些指令或数据项
2. 执行 `View > Hide`（或按 `Ctrl + Numpad-`）
3. 输入用于替换所选区域的文本（可选：选择颜色）

这些指令/数据并未从数据库中删除，只是被替换显示。 你可以通过 `View > Unhide`（或 `Ctrl + Numpad+`）恢复显示。

![](assets/2021/03/hide_insn.png)

### 隐藏整个函数

当光标位于函数名上时，使用 `Hide` 命令可以隐藏或折叠整个函数。

![](assets/2021/03/hide_func.png)

你可能已经见过 `FLIRT` 签名检测到的库函数会显示为 `COLLAPSED FUNCTION`（在函数列表和导航栏中为青色）。 库函数的具体实现对分析程序代码通常不重要，因此 IDA 会将它们折叠以减少干扰。

### 隐藏结构体和枚举

结构体或枚举定义也可以像函数一样折叠和展开。

![](assets/2021/03/hide_struct.png)

### 精简结构体表示

在数据中定义结构体实例时，IDA 默认会以精简形式显示（所有内容在一行）。 使用 `Unhide` 可以让它以完整（详细）形式显示：每个字段单独一行，并带有字段名注释。

![](assets/2021/03/hide_terse.png)

反之，使用 `Hide` 可以将结构体实例折叠为精简形式（某些结构体布局可能不支持）。

### 在反编译器中折叠代码块

反编译器中也有类似但独立的折叠/展开操作，可通过右键菜单或 `Numpad-` / `Numpad+` 快捷键使用。 你可以折叠复合运算符，以及函数开头的变量声明块。

### 更多信息

[Hide](https://hex-rays.com/products/ida/support/idadoc/599.shtml) and [Unhide](https://hex-rays.com/products/ida/support/idadoc/600.shtml)(IDA)

[Collapse/uncollapse item](https://www.hex-rays.com/products/decompiler/manual/cmd_collapse.shtml) (Decompiler)

原文地址：https://hex-rays.com/blog/igors-tip-of-the-week-31-hiding-and-collapsing
