# java 基础语法

## 源文件声明规则

当在一个源文件中定义多个类，并且还有 import 语句和 package 语句时，要特别注意这些规则。

- 一个源文件中只能有一个 public 类
- 一个源文件可以有多个非 public 类
- 源文件的名称应该和 public 类的类名保持一致。例如：源文件中 public 类的类名是 Employee，那么源文件应该命名为 Employee.java。
- 如果一个类定义在某个包中，那么 package 语句应该在源文件的首行。
- 如果源文件包含 import 语句，那么应该放在 package 语句和类定义之间。如果没有 package 语句，那么 import 语句应该在源文件中最前面。
- import 语句和 package 语句对源文件中定义的所有类都有效。在同一源文件中，不能给不同的类不同的包声明。

## 关键字说明

### 访问控制

| 关键字    | 说明                                |
| --------- | ----------------------------------- |
| private   | 私有的 在同一类内可见               |
| protected | 受保护的 对所有类可见               |
| public    | 公共的 对同一包内的类和所有子类可见 |
| default   | 默认 在同一包内可见                 |

### 基本类型

| 关键字  | 说明                             |
| ------- | -------------------------------- |
| boolean | 布尔型                           |
| byte    | 字节型 1 字节 8 位有符号数       |
| char    | 字符型 2 字节 16 位 Unicode 字符 |
| double  | 双精度浮点 8 字节 64 位浮点数    |
| float   | 单精度浮点 4 字节 32 位浮点数    |
| int     | 整型 4 字节 32 位有符号数        |
| long    | 长整型 8 字节 64 位有符号数      |
| short   | 短整型 2 字节 16 位有符号数      |

在 Java 中使用 final 关键字来修饰常量。

### 类、方法和变量修饰符

| 关键字       | 说明                           |
| ------------ | ------------------------------ |
| abstract     | 声明抽象                       |
| class        | 类                             |
| extends      | 扩充,继承                      |
| final        | 最终值,不可改变的              |
| implements   | 实现（接口）                   |
| interface    | 接口                           |
| native       | 本地，原生方法（非 Java 实现） |
| new          | 新,创建                        |
| static       | 静态                           |
| strictfp     | 严格,精准                      |
| synchronized | 线程,同步                      |
| transient    | 短暂                           |
| volatile     | 易失                           |

#### 构造方法

每个类都有构造方法。如果没有显式地为类定义构造方法，Java 编译器将会为该类提供一个默认构造方法。

在创建一个对象的时候，至少要调用一个构造方法。构造方法的名称必须与类同名，一个类可以有多个构造方法。

一个类可以包含以下类型变量：

- 局部变量：在方法、构造方法或者语句块中定义的变量被称为局部变量。变量声明和初始化都是在方法中，方法结束后，变量就会自动销毁。
- 成员变量：成员变量是定义在类中，方法体之外的变量。这种变量在创建对象的时候实例化。成员变量可以被类中方法、构造方法和特定类的语句块访问。
- 类变量：类变量也声明在类中，方法体之外，但必须声明为 static 类型。

### 程序控制语句

| 关键字     | 说明                       |
| ---------- | -------------------------- |
| break      | 跳出循环                   |
| case       | 定义一个值以供 switch 选择 |
| continue   | 继续                       |
| do         | 运行                       |
| else       | 否则                       |
| for        | 循环                       |
| if         | 如果                       |
| instanceof | 实例                       |
| return     | 返回                       |
| switch     | 根据值选择执行             |
| while      | 循环                       |

### 错误处理

| 关键字  | 说明                   |
| ------- | ---------------------- |
| assert  | 断言表达式是否为真     |
| catch   | 捕捉异常               |
| finally | 有没有异常都执行       |
| throw   | 抛出一个异常对象       |
| throws  | 声明一个异常可能被抛出 |
| try     | 捕获异常               |

### 包相关

| 关键字  | 说明 |
| ------- | ---- |
| import  | 引入 |
| package | 包   |

### Java 包

包主要用来对类和接口进行分类。当开发 Java 程序时，可能编写成百上千的类，因此很有必要对类和接口进行分类。

### import 语句

在 Java 中，如果给出一个完整的限定名，包括包名、类名，那么 Java 编译器就可以很容易地定位到源代码或者类。import 语句就是用来提供一个合理的路径，使得编译器可以找到某个类。

### 变量引用

| 关键字 | 说明      |
| ------ | --------- |
| super  | 父类,超类 |
| this   | 本类      |
| void   | 无返回值  |

### 保留关键字

| 关键字 | 说明                 |
| ------ | -------------------- |
| goto   | 是关键字，但不能使用 |
| const  | 是关键字，但不能使用 |

# java 高级语法

## 注解

注解是 JDK1.5 版本开始引入的一个特性，用于对代码进行说明，可以对包、类、接口、字段、方法参数、局部变量等进行注解。

### 注解基础

#### Java 自带的标准注解

Java 自带的标准注解，包括`@Override`、`@Deprecated` 和`@SuppressWarnings`，分别用于标明重写某个方法、标明某个类或方法过时、标明要忽略的警告，用这些注解标明后编译器就会进行检查。

- `@Override`：表示当前的方法定义将覆盖父类中的方法。
- `@Deprecated`：表示代码被弃用，如果使用了被 `@Deprecated` 注解的代码则编译器将发出警告。
- `@SuppressWarnings`：表示关闭编译器警告信息。

#### 元注解

元注解，元注解是用于定义注解的注解，包括`@Retention`、`@Target`、`@Inherited`、`@Documented`，`@Retention` 用于标明注解被保留的阶段，`@Target` 用于标明注解使用的范围，`@Inherited` 用于标明注解可继承，`@Documented` 用于标明是否生成 javadoc 文档。

- @Target
  `Target` 注解的作用是：描述注解的使用范围。在定义注解类时使用了`@Target` 能够更加清晰的知道它能够被用来修饰哪些对象，它的取值范围定义在 `ElementType` 枚举中。

```java
public enum ElementType {
    TYPE,            // 类、接口、枚举类
    FIELD,           // 成员变量（包括：枚举常量）
    METHOD,          // 成员方法
    PARAMETER,       // 方法参数
    CONSTRUCTOR,     // 构造方法
    LOCAL_VARIABLE,  // 局部变量
    ANNOTATION_TYPE, // 注解类
    PACKAGE,         // 可用于修饰：包
    TYPE_PARAMETER,  // 类型参数，JDK 1.8 新增
    TYPE_USE         // 使用类型的任何地方，JDK 1.8 新增
}
```

- @Retention & @RetentionTarget
  `Reteniton` 注解的作用是：描述注解保留的时间范围。`Reteniton` 注解用来限定那些被它所注解的注解类在注解到其他类上以后，可被保留到何时，一共有三种策略，定义在 `RetentionPolicy` 枚举中。

```java
public enum RetentionPolicy {
    SOURCE,   // 源文件保留
    CLASS,    // 编译期保留，默认值
    RUNTIME   // 运行期保留，可通过反射去获取注解信息
}
```

- @Documented
  Documented 注解的作用是：描述在使用 javadoc 工具为类生成帮助文档时是否要保留其注解信息。

- @Inherited
  Inherited 注解的作用：被它修饰的 Annotation 将具有继承性。如果某个类使用了被@Inherited 修饰的 Annotation，则其子类将自动具有该注解。

- @Repeatable
  允许在同一申明类型(类，属性，或方法)的多次使用同一个注解。

- @Native
  使用 @Native 注解修饰成员变量，则表示这个变量可以被本地代码引用，常常被代码生成工具使用。

#### 自定义注解

自定义注解，可以根据自己的需求定义注解，并可用元注解对自定义注解进行注解。
